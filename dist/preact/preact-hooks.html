<!DOCTYPE html>
<html lang="id-ID">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Preact Hooks: untuk Functional Component | NyanDev Blog</title>
    <meta name="description" content="Penggunaan state dan lifecycle lewat Function Components yang lebih ringkas.">
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico">
  <link rel="preconnect" href="https://cdn.statically.io">
  <link rel="preconnect" href="https://telegra.ph">
  <link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/eda0c383/.vuepress/public/fonts/keivit-regular.otf" as="font">
  <link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/eda0c383/.vuepress/public/fonts/keivit-bold.otf" as="font">
  <link rel="preload" href="https://cdn.statically.io/gh/nyancodeid/blog/eda0c383/.vuepress/public/fonts/charter-regular.otf" as="font">
  <script src="https://cdn.statically.io/gh/aFarkas/lazysizes/gh-pages/lazysizes.min.js" async=""></script>
    <meta name="keywords" content="preact,cli,preact.js,react"><meta property="article:published_time" content="Fri Jan 24 2020 14:49:21 GMT+0700 (Western Indonesia Time)"><meta property="article:modified_time" content="Wed Feb 05 2020 18:31:02 GMT+0700 (Western Indonesia Time)"><meta property="og:site_name" content="NyanDev Blog"><meta property="og:title" content="Preact Hooks: untuk Functional Component"><meta property="og:description" content="Penggunaan state dan lifecycle lewat Function Components yang lebih ringkas."><meta property="og:type" content="website"><meta property="og:url" content="https://blog.nyandev.id/preact/preact-hooks.html"><meta property="og:image" content="https://blog.nyandev.id/thumbnail/preact-hooks--nyandev-blog.jpg"><meta name="twitter:title" content="Preact Hooks: untuk Functional Component"><meta name="twitter:description" content="Penggunaan state dan lifecycle lewat Function Components yang lebih ringkas."><meta name="twitter:url" content="https://blog.nyandev.id/preact/preact-hooks.html"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://blog.nyandev.id/thumbnail/preact-hooks--nyandev-blog.jpg"><meta property="og:image:alt" content="Preact Hooks: untuk Functional Component"><meta property="og:image:width" content="450"><meta property="article:author" content="https://facebook.com/ryan.hac">
    <link rel="preload" href="/assets/css/0.styles.1b9392e9.css" as="style"><link rel="preload" href="/assets/js/app.d01ee66d.js" as="script"><link rel="preload" href="/assets/js/2.0487a476.js" as="script"><link rel="preload" href="/assets/js/25.a5f37e33.js" as="script"><link rel="preload" href="/assets/js/6.cdbbf527.js" as="script"><link rel="preload" href="/assets/js/9.0af39f1f.js" as="script"><link rel="prefetch" href="/assets/js/10.01b48174.js"><link rel="prefetch" href="/assets/js/11.cf48a63a.js"><link rel="prefetch" href="/assets/js/12.02a2f0ab.js"><link rel="prefetch" href="/assets/js/13.4baa9827.js"><link rel="prefetch" href="/assets/js/14.61598d87.js"><link rel="prefetch" href="/assets/js/15.bade082e.js"><link rel="prefetch" href="/assets/js/16.0b0ea3c4.js"><link rel="prefetch" href="/assets/js/17.95e11cad.js"><link rel="prefetch" href="/assets/js/18.2c83c3c7.js"><link rel="prefetch" href="/assets/js/19.2b0c32d9.js"><link rel="prefetch" href="/assets/js/20.2d0d4a36.js"><link rel="prefetch" href="/assets/js/21.080cece2.js"><link rel="prefetch" href="/assets/js/22.b72ef6c8.js"><link rel="prefetch" href="/assets/js/23.2fc5dbb8.js"><link rel="prefetch" href="/assets/js/24.f6535b7b.js"><link rel="prefetch" href="/assets/js/26.acb9b9d5.js"><link rel="prefetch" href="/assets/js/27.b4a6c694.js"><link rel="prefetch" href="/assets/js/28.1255e9cc.js"><link rel="prefetch" href="/assets/js/29.028b3781.js"><link rel="prefetch" href="/assets/js/3.bd3b74da.js"><link rel="prefetch" href="/assets/js/30.8400e6d6.js"><link rel="prefetch" href="/assets/js/4.489ffdc4.js"><link rel="prefetch" href="/assets/js/5.2efb7e3d.js"><link rel="prefetch" href="/assets/js/7.06399818.js"><link rel="prefetch" href="/assets/js/8.d3c10aaa.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1b9392e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NyanDev Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">Javascript Category</a></li><li class="dropdown-item"><!----> <a href="/preact/" class="nav-link router-link-active">Preact Category</a></li><li class="dropdown-item"><!----> <a href="/preact/belajar-preact/" class="nav-link">Series: Belajar Preact</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others" class="dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/" class="nav-link">Tips Category</a></li><li class="dropdown-item"><!----> <a href="/informasi/" class="nav-link">Informasi Category</a></li></ul></div></div> <a href="https://github.com/nyancodeid/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">Javascript Category</a></li><li class="dropdown-item"><!----> <a href="/preact/" class="nav-link router-link-active">Preact Category</a></li><li class="dropdown-item"><!----> <a href="/preact/belajar-preact/" class="nav-link">Series: Belajar Preact</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others" class="dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/" class="nav-link">Tips Category</a></li><li class="dropdown-item"><!----> <a href="/informasi/" class="nav-link">Informasi Category</a></li></ul></div></div> <a href="https://github.com/nyancodeid/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Category</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/" class="sidebar-link">Javascript (1)</a></li><li><a href="/preact/" class="sidebar-link">Preact (3)</a></li><li><a href="/preact/belajar-preact/" class="sidebar-link">Preact Series (3)</a></li><li><a href="/devops/" class="sidebar-link">Dev Ops (0)</a></li><li><a href="/tips/" class="sidebar-link">Tips (2)</a></li><li><a href="/informasi/" class="sidebar-link">Informasi (2)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="preact-hooks-untuk-functional-component"><a href="#preact-hooks-untuk-functional-component" class="header-anchor">#</a> Preact Hooks: untuk Functional Component</h1> <div class="author d-flex"><div class="author-main d-flex"><div class="author-avatar"><img src="/images/profiles/avatar.jpg" alt="Ryan Aunur Rassyid" width="48" height="48"> <!----></div> <div class="author-detail"><div>Ryan Aunur Rassyid</div> <span>Jan 24, 2020 Â· 5 min read</span></div></div> <div class="author-social d-flex"><div class="author-social-wrapper d-flex"><div><a href="https://twitter.com/AunurRyan"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div> <div><a href="https://www.facebook.com/ryan.hac"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div> <div><a href><svg enable-background="new 0 0 24 24" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m7.996 21.324c0 .695-.521.982-1.098.695l-6.228-3.113c-.188-.089-.346-.238-.475-.447s-.195-.417-.195-.622v-15.227c0-.568.341-.825 1.112-.441l6.844 3.42c.099.099.026-.581.04 15.735zm.857-14.32 7.152 11.568-7.152-3.553zm15.147.241v14.079c0 .223-.062.403-.188.541-.125.138-.295.207-.509.207s-.424-.058-.629-.174l-5.906-2.939zm-.04-1.603c0 .027-1.145 1.895-3.435 5.603s-3.632 5.88-4.025 6.512l-5.223-8.469 4.339-7.039c.236-.388.72-.456 1.045-.294l7.246 3.607c.035.017.053.044.053.08z"></path></svg></a></div></div></div></div> <p class="featured-image"><img alt="Preact Hooks: untuk Functional Component" title="Preact Hooks: untuk Functional Component | NyanDev Blog" data-src="/images/covers/preact-hooks--nyandev-blog.jpg" loading="lazy" src="/images/covers/preact-hooks--nyandev-blog.jpg" class="no-zoom lazy"></p> <blockquote><p>Hooks is a new concept that allows you to compose state and side effects. They allow you to reuse stateful logic between components.</p></blockquote> <p>Ketika kita membuat component kita akan berfikir apakah component ini akan menggunakan Function atau Class. Kedua nya memang berbeda dan memiliki keuntungan dan kekurangan masing masing. Misalnya, kita ingin membuat sebuah component yang sederhana dan hanya menampilkan nilai dari props saja. Tapi ditengah jalan kita merasa bahwa component ini membutuhkan lifecycle methods atau state yang akhirnya kita melakukkan refactor component tersebut menjadi class component.</p> <p>Permasalahan ini ada bahkan untuk pengguna React sekalipun. Kabar baiknya untuk React versi <code>16.8</code> mulai diperkenalkan fitur <code>React Hooks</code>. Tentu saja Preact juga mengadaptasi fitur luar biasa ini, bagaimana tidak. Fitur ini memungkinkan kita untuk berinteraksi dengan Lifecycle dan State dalam Functional Component. Kali ini kita akan berkenalan lebih dekat dengan fitur yang diusung oleh Developer React yang ada pada Preact.</p> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table of Contents</h2> <p></p><div class="table-of-contents"><ul><li><a href="#table-of-contents">Table of Contents</a></li><li><a href="#introduction">Introduction</a></li><li><a href="#import-hooks-features">Import hooks features</a></li><li><a href="#stateful-hooks">Stateful hooks</a><ul><li><a href="#usestate">useState</a></li><li><a href="#usereducer">useReducer</a></li></ul></li><li><a href="#memorization">Memorization</a><ul><li><a href="#usememo">useMemo</a></li><li><a href="#usecallback">useCallback</a></li></ul></li><li><a href="#referensi">Referensi</a></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p><code>Hook</code> adalah sebuah konsep baru yang memungkinkan kita untuk mengubah state dan side effects. Hook juga memungkinkan kita untuk menggunakan kembali (<em>reuse</em>) stateful logic antar component.</p> <p>Cara paling mudah untuk memahami Hook adalah membandingkan antara component berbasis Class. Dibawah ini adalah contoh component penghitung sederhana yang dibuat menggunakan Classes Component.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">prev</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token operator">:</span> prev<span class="token punctuation">.</span>value <span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Counter: </span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Increment</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Dan dibawah ini adalah component dengan fungsi yang sama namun ditulis menggunakan Functional Component.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setValue</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Counter: </span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Increment</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Pada point ini mungkin ada kesamaan antara kedua nya namun kenyataanya Hook membuat component lebih rapi dan simpel.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Mungkin ini terlihat aneh, tenang kamu tidak sendiri. Penulis awalnya juga berfikiran begitu. Butuh pembiasaan dan study case untuk bisa menerima dan memahami konsep Hook yang luar biasa.</p></div> <p>Kata kunci yang paling penting dalam memahami Hook menurut penulis adalah, <code>Array Destructuring</code>, <code>Syntax</code>, dan <code>Side Effect</code>.</p> <h2 id="import-hooks-features"><a href="#import-hooks-features" class="header-anchor">#</a> Import hooks features</h2> <p>Untuk menggunakan API Hooks dalam project Preact, kamu harus import module tersebut terlebih dahulu. Cara nya adalah sebagai berikut.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'preact/hooks'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="stateful-hooks"><a href="#stateful-hooks" class="header-anchor">#</a> Stateful hooks</h2> <h3 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h3> <p>Pada contoh diatas, kita menggunakan <code>useState</code>. useState adalah sebuah Hook, dan akan mengembalikan nilai dari state (pada contoh diatas: value) dan fungsi yang bisa kita gunakan untuk mengubah nilai tersebut (setValue). Fungsi setValue disini mirip dengan cara kerja <code>this.setState</code> jadi bayangkan bahwa kalau state ditampung pada object state nah kita disini membuatnya lebih kecil dengan membuat state yang lebih kecil dengan methode setState nya sendiri.</p> <p>useState memiliki parameter yang harus diisi, yaitu init value atau value awal. Contohnya disini parameter kita adalah <code>0</code>, jadi nilai awal dari state <code>value</code> adalah <code>0</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span> stateName<span class="token punctuation">,</span> setStateName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token constant">INITIAL_VALUE</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setStateName</span><span class="token punctuation">(</span>stateName <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// You can also pass a callback to the setter</span>
<span class="token keyword">const</span> <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setStateName</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentCount</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> currentCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Walaupun kamu bebas menggunakan variabel apa untuk mendefinsikan state kamu. Pastikan untuk mengikuti aturan atau best practice nya untuk memudahkan Team membaca kodingan kamu. Untuk <code>stateName</code> pastikan menggunakan nama yang mempresentasikan nama value tersebut, misalnya <code>value</code>, <code>name</code>, <code>isLoading</code>. Dan untuk <code>setStateName</code> gunakan format yang sama dengan <code>stateName</code> namun dengan menambahkan <code>set</code> didepannya, misalnya <code>setValue</code>, <code>setName</code>, <code>setIsLoading</code>. Dan pastikan bahwa kamu menggunakan Camel Case pada setiap pemberian nama variable untuk menunjukkan konsistensi kamu.</p> <h3 id="usereducer"><a href="#usereducer" class="header-anchor">#</a> useReducer</h3> <p>Hook useReducer memiliki kemiripan dengan redux. Dibandingkan dengan <code>useState</code> lebih mudah digunakan ketika kamu memiliki complex state logic yang dimana state selanjutnya bergantung pada state sebelumnya.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'increment'</span><span class="token operator">:</span> <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'decrement'</span><span class="token operator">:</span> <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'reset'</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Unexpected action'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Returns the current state and a dispatch function to</span>
  <span class="token comment">// trigger an action</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'decrement'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'reset'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>reset<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="memorization"><a href="#memorization" class="header-anchor">#</a> Memorization</h2> <p>Untuk menyimpan secara sementara (cache) perubahan pada state kita dibantu oleh beberapa hook berikut untuk meringankan kerja UI untuk nilai dependency yang tidak mengalami perubahan maka function tidak dikerjakan.</p> <h3 id="usememo"><a href="#usememo" class="header-anchor">#</a> useMemo</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> memoized <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">expensive</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// Only re-run the expensive function when any of these</span>
  <span class="token comment">// dependencies change</span>
  <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="usecallback"><a href="#usecallback" class="header-anchor">#</a> useCallback</h3> <p>Hook <strong>useCallback</strong> dapat digunakan untuk memastikan bahwa fungsi yang dikembalikan akan tetap sama secara referensi selama tidak ada dependensi yang berubah. Ini dapat digunakan untuk mengoptimalkan pembaruan child component ketika mereka bergantung pada referensi yang sama untuk melewati pembaruan (misalnya. <strong>ShouldComponentUpdate</strong>).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> onClick <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>valueA<span class="token punctuation">,</span> valueB<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>valueA<span class="token punctuation">,</span> valueB<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>useCallback memiliki 2 argument, yaitu <strong>Function</strong> dan <strong>Dependency</strong>. Untuk bisa mengakses <code>valueA</code> dan <code>valueB</code> maka kedua variable tersebut dipassing pada argument ke-2 method <code>useCallback</code> yang dibungkus kedalam Array.</p> <h2 id="referensi"><a href="#referensi" class="header-anchor">#</a> Referensi</h2> <a href="https://medium.com/codelabs-unikom/mengenal-react-hooks-63aafde79da0" target="_blank" class="link-preview"><div class="link-preview--content"><p class="title">Mengenal React Hooks - UNIKOM Codelabs - Medium</p><p>Ketika membuat component di React, kita akan mempertimbangkan apakah harus menggunakan class atau function? karena ketika membuat function component maka kita tidak akan bisa menggunakan state atauâ¦</p> <p>medium.com</p></div><div class="link-preview--thumbnail" style="background-image:url(https://miro.medium.com/max/1200/1*yPmUyz7rwQTcI1FLkoZBQQ.png);"></div></a></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/nyancodeid/blog/edit/master/preact/preact-hooks.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/5/2020, 6:31:02 PM</span></div></footer> <!----> </main></div><div class="global-ui"><div class="reading-progress top" data-v-56679cca><div class="progress" data-v-56679cca></div></div></div></div>
    <script src="/assets/js/app.d01ee66d.js" defer></script><script src="/assets/js/2.0487a476.js" defer></script><script src="/assets/js/25.a5f37e33.js" defer></script><script src="/assets/js/6.cdbbf527.js" defer></script><script src="/assets/js/9.0af39f1f.js" defer></script>
  </body>
</html>
